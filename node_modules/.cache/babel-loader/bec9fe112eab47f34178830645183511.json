{"ast":null,"code":"import _regeneratorRuntime from \"/Users/naveed.baqai/private/my-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/naveed.baqai/private/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/naveed.baqai/private/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/naveed.baqai/private/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/naveed.baqai/private/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/naveed.baqai/private/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/naveed.baqai/private/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/naveed.baqai/private/my-app/src/components/interestFreeCars/affordableCars/affordableCars.js\";\nimport React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport searchInterestFreeCars from './../../../services/searchInterestFreeCars';\nimport missingCarIcon from './../../../assets/car-icon.png';\nimport \"./affordableCars.scss\";\n\nvar AffordableCars =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AffordableCars, _Component);\n\n  function AffordableCars(props) {\n    var _this;\n\n    _classCallCheck(this, AffordableCars);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AffordableCars).call(this, props));\n\n    _this.monthlyRepayment = function (price, deposit, years) {\n      var priceAfterDeposit = _this.priceAfterDeposit(price, deposit);\n\n      var totalMonths = years * 12;\n      return parseFloat((priceAfterDeposit / totalMonths).toFixed(2));\n    };\n\n    _this.priceAfterDeposit = function (price, deposit) {\n      return price - deposit;\n    };\n\n    _this.searchingCar =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(price) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.setState({\n                  loading: true,\n                  sentRequest: true\n                });\n\n                _context.next = 3;\n                return searchInterestFreeCars(price).then(function (response) {\n                  console.log(response);\n\n                  _this.setState({\n                    data: response\n                  });\n\n                  _this.setState({\n                    loading: false\n                  });\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      loading: false,\n      sentRequest: false,\n      data: {\n        searchResults: []\n      }\n    };\n    return _this;\n  }\n\n  _createClass(AffordableCars, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      var monthlyRepayment = this.monthlyRepayment(newProps.price, newProps.deposit, newProps.years);\n      this.searchingCar(monthlyRepayment);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var cars = React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, this.state.loading ? React.createElement(Loader, {\n        type: \"Oval\",\n        color: \"#2C3637\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }) : this.state.data.searchResults.length < 1 ? this.state.sentRequest ? React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"No Results Found.\") : '' : React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, this.state.data.searchResults.map(function (item, index) {\n        if (item.isReserved && index < 7) {\n          return React.createElement(\"div\", {\n            className: \"col-lg-4\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"card\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }, item.photos.length > 0 ? React.createElement(\"img\", {\n            className: \"card-img-top\",\n            src: item.photos[0],\n            alt: \"Car\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }) : React.createElement(\"img\", {\n            className: \"card-img-top\",\n            src: missingCarIcon,\n            alt: \"Car\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"card-body\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, React.createElement(\"h5\", {\n            className: \"card-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63\n            },\n            __self: this\n          }, item.title.name), React.createElement(\"ul\", {\n            className: \"card-text\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }, item.salesInfo.summary.slice(0, 7).map(function (item, index) {\n            return React.createElement(\"li\", {\n              key: index,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 67\n              },\n              __self: this\n            }, item);\n          })), item.salesInfo.pricing.monthlyPayment ? React.createElement(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          }, \"\\xA3\", item.salesInfo.pricing.monthlyPayment, \"/month\") : '', React.createElement(\"a\", {\n            href: \"https://www.arnoldclark.com\".concat(item.url),\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"btn btn-large btn-block btn-success\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }, \"Find More\")))));\n        } // <div key={index}>\n        //   {\n        //     item.isReserved\n        //     || index > 7\n        //     ? ''\n        //     : <div className=\"col-lg-4\">\n        //         <div className=\"card\">\n        //           {\n        //             item.photos.length > 0\n        //             ? <img className=\"card-img-top\" src={item.photos[0]} alt=\"Car\"/>\n        //             : <img className=\"card-img-top\" src={missingCarIcon} alt=\"Car\"/>\n        //           }\n        //           <div className=\"card-body\">\n        //             <h5 className=\"card-title\">{item.title.name}</h5>\n        //             <ul className=\"card-text\">\n        //               {\n        //                 item.salesInfo.summary.slice(0, 7).map((item, index) =>\n        //                   <li key={index}>{item}</li>\n        //                 )\n        //               }\n        //             </ul>\n        //             {\n        //               item.salesInfo.pricing.monthlyPayment\n        //               ? <h4>Â£{item.salesInfo.pricing.monthlyPayment}/month</h4>\n        //               : ''\n        //             }\n        //             <a href={`https://www.arnoldclark.com${item.url}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn btn-large btn-block btn-success\"><b>Find More</b></a>\n        //           </div>\n        //         </div>\n        //       </div>\n        //   }\n        // </div>\n\n      })));\n      return React.createElement(\"section\", {\n        className: \"py-5 affordable-cars\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, cars));\n    }\n  }]);\n\n  return AffordableCars;\n}(Component);\n\nexport default AffordableCars;","map":{"version":3,"sources":["/Users/naveed.baqai/private/my-app/src/components/interestFreeCars/affordableCars/affordableCars.js"],"names":["React","Component","Loader","searchInterestFreeCars","missingCarIcon","AffordableCars","props","monthlyRepayment","price","deposit","years","priceAfterDeposit","totalMonths","parseFloat","toFixed","searchingCar","setState","loading","sentRequest","then","response","console","log","data","state","searchResults","newProps","cars","length","map","item","index","isReserved","photos","title","name","salesInfo","summary","slice","pricing","monthlyPayment","url"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport searchInterestFreeCars from './../../../services/searchInterestFreeCars';\nimport missingCarIcon from './../../../assets/car-icon.png';\nimport \"./affordableCars.scss\";\n\nclass AffordableCars extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      sentRequest: false,\n      data: {\n        searchResults: []\n      }\n    };\n   }\n\n  componentWillReceiveProps(newProps) {\n    const monthlyRepayment = this.monthlyRepayment(newProps.price, newProps.deposit, newProps.years);\n    this.searchingCar(monthlyRepayment);\n  }\n\n  monthlyRepayment = (price, deposit, years) => {\n    const priceAfterDeposit = this.priceAfterDeposit(price, deposit);\n    const totalMonths = years * 12;\n    return parseFloat((priceAfterDeposit/totalMonths).toFixed(2));\n  };\n\n  priceAfterDeposit = (price, deposit) => {\n    return price - deposit;\n  };\n\n  searchingCar = async (price) => {\n    this.setState({ loading: true, sentRequest: true });\n    await searchInterestFreeCars(price).then((response)=>{\n      console.log(response);\n      this.setState({ data: response });\n      this.setState({ loading: false });\n   }) \n  }\n  \n  render() {\n    const cars = <div className=\"content\">\n      {\n        this.state.loading\n        ? <Loader type=\"Oval\" color=\"#2C3637\"/>\n        : this.state.data.searchResults.length < 1 \n        ? this.state.sentRequest \n          ? <h1>No Results Found.</h1> \n          : ''\n        : <div className=\"row\">\n            {this.state.data.searchResults.map((item, index) => {\n              if (item.isReserved && index < 7) {\n                return <div className=\"col-lg-4\">\n                        <div className=\"card\">\n                         {\n                            item.photos.length > 0\n                            ? <img className=\"card-img-top\" src={item.photos[0]} alt=\"Car\"/>\n                            : <img className=\"card-img-top\" src={missingCarIcon} alt=\"Car\"/>\n                          }\n                          <div className=\"card-body\">\n                            <h5 className=\"card-title\">{item.title.name}</h5>\n                            <ul className=\"card-text\">\n                              {\n                                item.salesInfo.summary.slice(0, 7).map((item, index) =>\n                                  <li key={index}>{item}</li>\n                                )\n                              }\n                            </ul>\n                            {\n                              item.salesInfo.pricing.monthlyPayment\n                              ? <h4>Â£{item.salesInfo.pricing.monthlyPayment}/month</h4>\n                              : ''\n                            }\n                            <a href={`https://www.arnoldclark.com${item.url}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn btn-large btn-block btn-success\"><b>Find More</b></a>\n                          </div>\n                        </div>\n                      </div>\n              }\n              // <div key={index}>\n              //   {\n              //     item.isReserved\n              //     || index > 7\n              //     ? ''\n              //     : <div className=\"col-lg-4\">\n              //         <div className=\"card\">\n              //           {\n              //             item.photos.length > 0\n              //             ? <img className=\"card-img-top\" src={item.photos[0]} alt=\"Car\"/>\n              //             : <img className=\"card-img-top\" src={missingCarIcon} alt=\"Car\"/>\n              //           }\n              //           <div className=\"card-body\">\n              //             <h5 className=\"card-title\">{item.title.name}</h5>\n              //             <ul className=\"card-text\">\n              //               {\n              //                 item.salesInfo.summary.slice(0, 7).map((item, index) =>\n              //                   <li key={index}>{item}</li>\n              //                 )\n              //               }\n              //             </ul>\n              //             {\n              //               item.salesInfo.pricing.monthlyPayment\n              //               ? <h4>Â£{item.salesInfo.pricing.monthlyPayment}/month</h4>\n              //               : ''\n              //             }\n              //             <a href={`https://www.arnoldclark.com${item.url}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn btn-large btn-block btn-success\"><b>Find More</b></a>\n              //           </div>\n              //         </div>\n              //       </div>\n              //   }\n              // </div>\n      })}\n        </div>\n      }\n    </div>\n\n    return (\n      <section className=\"py-5 affordable-cars\">\n        <div className=\"container\">\n          {cars}\n        </div> \n      </section>\n    );\n  }\n}\n\nexport default AffordableCars;\n"]},"metadata":{},"sourceType":"module"}